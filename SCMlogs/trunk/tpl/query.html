<script type="text/javascript" language="JavaScript">
  <!-- 
function SetAllYearCheckBoxes(FormName, FieldName, CheckValue)
{
	for (m=1;m<=12;m=m+1) 
	{
		s = "" + m;
		if (s.length == 1) { s = "0" + s; }
		SetAllCheckBoxes(FormName, FieldName + "[" + s + "][]", CheckValue);
	}
}
function SetAllYearCheckBoxesByCb(elt, FormName, FieldName, AllName)
{
	SetAllYearCheckBoxes(FormName, FieldName, elt.checked);
	for (m=1;m<=12;m=m+1) 
	{
		SetAllCheckBoxes(FormName, AllName + "[" + m + "]",elt.checked);
	}
}
function SetAllCheckBoxesByCb(elt, FormName, FieldName, AllName)
{
	SetAllCheckBoxes(FormName, FieldName, elt.checked);
	SetAllCheckBoxes(FormName, AllName,false);
}
function SetAllCheckBoxes(FormName, FieldName, CheckValue)
{
	if(!document.forms[FormName])
		return;
	var objCheckBoxes = document.forms[FormName].elements[FieldName];
	if(!objCheckBoxes)
		//alert(FieldName + " : no checkbox");
		return;
	var countCheckBoxes = objCheckBoxes.length;
	if(!countCheckBoxes)
		objCheckBoxes.checked = CheckValue;
	else
		// set the check value for all check boxes
		for(var i = 0; i < countCheckBoxes; i++)
			objCheckBoxes[i].checked = CheckValue;
}

function setblocking(nr, b)
{
	if (document.layers)
	{
		current = b ? 'block' : 'none';
		document.layers[nr].display = current;
	}
	else if (document.all)
	{
		current = b ? 'block' : 'none';
		document.all[nr].style.display = current;
	}
	else if (document.getElementById)
	{
		vista = b ? 'block' : 'none';
		document.getElementById(nr).style.display = vista;
	}
}
function blocking(nr)
{
	if (document.layers)
	{
		current = (document.layers[nr].display == 'none') ? 'block' : 'none';
		document.layers[nr].display = current;
	}
	else if (document.all)
	{
		current = (document.all[nr].style.display == 'none') ? 'block' : 'none';
		document.all[nr].style.display = current;
	}
	else if (document.getElementById)
	{
		vista = (document.getElementById(nr).style.display == 'none') ? 'block' : 'none';
		document.getElementById(nr).style.display = vista;
	}
}

function StartYearFilesBlockControl(year,id,expanded)
{
	var t_open = year;
	var t_close = year;
	var bl_id= BC_BlockId(id);
	var fOpen = BC_BlockControlIsOpened(bl_id, expanded);
	document.write('<h1>');

	document.write('<span>');
	document.write ('<input type="checkbox" name="All['+year+']" onClick="SetAllYearCheckBoxesByCb(this,\'QueryForm\',\'commitsmonthfiles['+year+']\',\'All['+year+']\');return true;" />');
	document.write('</span>');
	document.write(' <a href="#" onclick="BC_BlockToggle(\'' + bl_id + '\',this,\'' + t_open + '\',\''+ t_close + '\');return true;" class="_block_control" >');
	document.write(fOpen ? t_close : t_open);
	document.write('</a>');
	document.write('</h1>');
	document.write('<div id="' + bl_id + '" style="display: ' + (fOpen ? 'block' : 'none') + '">');
	return true;
}

function StartYearMonthFilesBlockControl(year,month,id,expanded)
{
	var t_open = month;
	var t_close = month;
	var bl_id= BC_BlockId(id);
	var fOpen = BC_BlockControlIsOpened(bl_id, expanded);
	document.write('<h2>');
	document.write('<span>');
	document.write ('<input type="checkbox" name="All['+year+']['+month+']" onClick="SetAllCheckBoxesByCb(this,\'QueryForm\',\'commitsmonthfiles['+year+']['+month+'][]\', \'All['+year+']\' );return true;" />');
	document.write('</span>');
	document.write(' <a href="#" onclick="BC_BlockToggle(\'' + bl_id + '\',this,\'' + t_open + '\',\''+ t_close + '\');return true;" class="_block_control" >');
	document.write(fOpen ? t_close : t_open);
	document.write('</a>');
	document.write('</h2>');
	document.write('<div id="' + bl_id + '" style="display: ' + (fOpen ? 'block' : 'none') + '">');
	return true;
}

// -->
</script>

<form action="show.php?user={VAR_USER}" name="QueryForm" method="POST">
<table border=0 cellpadding=10 cellspacing=5 >
<tr>
<td>
{VAR_PAGE_COMMITS_FILES}
</td>
<td class="form">
{VAR_PAGE_COMMANDS}
</td>
</tr>
</table>
</form>
